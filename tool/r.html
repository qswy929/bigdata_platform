<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>在线编辑器</title>
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />  
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />  
    <link rel="apple-touch-icon" href="../apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->   
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <style type="text/css">
      body{
        padding-top: 50px !important;
      }
      .navbar-margin {
        margin-left: -15px;
      }
      .dt-button {
        float: left;
      }
      .btn-select {
        width: 66.5px;
      }
      .btn-span {
        margin-left: 12px !important;
      }
    </style>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/jquery.cookie.js"></script>
    <!-- 这里加入js代码 -->
    <script type="text/javascript">
      $(function(){ 
        if(typeof($.cookie('JSESSIONID'))=="undefined")
        {
          window.location.href="../member/signin.html";
        }
      });
    </script>
    <script type="text/javascript" src="https://cdn.bootcss.com/datatables/1.10.13/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/datatables/1.10.13/css/jquery.dataTables.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.2.4/css/buttons.dataTables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.2.4/js/dataTables.buttons.min.js"></script>
    <!--<script type="text/javascript" src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.24/build/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.24/build/vfs_fonts.js"></script> -->
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.2.4/js/buttons.html5.min.js"></script>
  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!-- 导航栏 -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <!-- 移动端适配 -->
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-9" aria-expanded="false">
            <span class="sr-only">折叠按钮</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand"><img alt="Brand" src="../img/logo.png" width="20px" /></a>
          <a class="navbar-brand navbar-brand-compact">Parthenon平台</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-9">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">首页</a></li>
            <li><a href="../task.html">最新任务</a></li>
            <li><a href="../course.html">课程</a></li>
            <li><a href="../practice.html">在线实践</a></li>
            <li><a href="../case.html">大数据案例</a></li>
            <li class="visible-lg-block visible-md-block"><a href="../dataset.html">数据集</a></li>
            <li class="visible-lg-block visible-md-block"><a href="../submit.html">作业提交</a></li>
            <li class="visible-lg-block"><a href="../competition.html">数据竞技场</a></li>
            <li class="visible-lg-block"><a href="../faq.html">FAQ</a></li>
            <!--  响应式工具 -->
            <li class="dropdown visible-md-block">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">更多<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <!--<li><a href="#">作业提交</a></li>-->
                <li><a href="../competition.html">数据竞技场</a></li>
                <li><a href="../faq.html">FAQ</a></li>
              </ul>
            </li>
            <li class="dropdown visible-sm-block visible-xs-block">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">更多<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="../dataset.html">数据集</a></li>
                <li><a href="../submit.html">作业提交</a></li>
                <li><a href="../competition.html">数据竞技场</a></li>
                <li><a href="../faq.html">FAQ</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right" id="user">
            <!--<li><button type="button" class="btn btn-primary btn-margin">云件环境</button></li>-->
            <li><a href="../member/signup.html">注册</a></li>
            <li><a v-text="ope_info" v-bind:href="url"></a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <nav class="navbar navbar-default navbar-compact">
      <div class="container-fluid">
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="navbar-collapse" id="nav_control" >
          <a class="navbar-brand navbar-brand-sm navbar-margin" v-text="brief"></a>
          <ul class="nav navbar-right-fixed">
            <li>
              <div class="btn-group" role="group">
                <button type="button" class="btn btn-default dropdown-toggle navbar-btn btn-select" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span>R</span>
                  <span class="caret btn-span"></span>
                </button>
                <ul class="dropdown-menu">
                  <li><a :href="sqlHref">SQL</a></li>
                  <li><a>R</a></li>
                  <li class="disabled"><a>Python</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>


    <!--正文内容-->
    <iframe id="rstudio" width="100%" scrolling="auto" frameborder="0" src="rstudio/"></iframe>

    <!--<div class="container-fluid">
      <div class="row">
        <div id="editor">-- SQL编辑器 Beta 1
-- 1.所有数据表为只读，且不能创建新表
-- 2.一次提交多条语句时，分步每步执行一条
-- 3.修改未执行的语句后，需要重新全部提交才能生效

-- 以下操作查看该数据集的所有表
show tables;</div>
      </div>
    </div> -->



    <!--footer-->
    <footer>
      <div class="container-fluid footer-margin-top">
        <div class="container text-center">
          <div class="row">
            <div class="col-md-6">
              <ul class="list-inline">
                <li class="no-extra"><a href="#">关于平台</a></li>
                <li><a href="#">使用教程</a></li>
                <li><a href="#">注意事项</a></li>
                <li><a href="#" target="_blank">联系邮箱</a></li>
              </ul>
            </div>
            <div class="col-md-6">
            Copyright © 2017 Tongji All Rights Reserved.
          </div>
          </div>
        </div>
      </div>
    </footer>
   
    <script src="../js/jquery.cookie.js"></script>
    <script src="../js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../js/src-min/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/src-min/theme-twilight.js" type="text/javascript" charset="utf-8"></script>
    <!-- vue.js -->
    <script src="https://cdn.bootcss.com/vue/2.2.4/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/vue-resource/1.2.1/vue-resource.min.js"></script>
    <script src="../js/taffy-min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../js/data/brief_name.js"></script>
    <script src="../js/userstatus.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(document).ready(function(){ 
        changeFrameHeight();
        $(window).resize(function(){
          changeFrameHeight();
        });
      });
      function changeFrameHeight() {
        var height = $(window).height();
        $("#rstudio").css('height',height-50);
      }
      var sqlVue = new Vue({
        el:"#nav_control",
        data:{
          brief:'',
          sqlHref:'sql.html'
        },
        methods:{
          getUrlParams: function(){
            var vars = [], hash;
            var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for(var i = 0; i < hashes.length; i++)
            {
              hash = hashes[i].split('=');
              vars.push(hash[0]);
              vars[hash[0]] = hash[1];
            }
            return vars;
          },
          getUrlParam: function(name){
            return this.getUrlParams()[name];
          },
          showName: function() {
            var database = this.getUrlParam('db');
            this.sqlHref = 'sql.html?db='+database;
            this.brief = TAFFY(brief_name)({dbName:database}).first().breifName;
          }
        },
        mounted: function() {
          //alert($.cookie('username'))
          this.showName();
        }
      });
    </script>
  </body>
</html>
